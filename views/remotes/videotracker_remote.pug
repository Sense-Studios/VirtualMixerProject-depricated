doctype html
html
  head
    title= title
    meta(name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no, minimal-ui')
    
    script(src='/javascripts/build/vendor.js')
    script(src='/javascripts/build/mixer.js')
    script(src='/javascripts/src/GlRenderer.js')
    script(src='/javascripts/src/modules/Mixer.js')
    script(src='/javascripts/src/modules/Monitor.js')
    script(src='/javascripts/src/sources/VideoSource.js')
    //link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='/stylesheets/remotes/videotracker_remote.css')

  body
    
    header
      button(onClick="is_playing = !is_playing") PLAY/PAUSE
      button(onClick="reset()") RESET
      input#bpm_display(type="number", value="128")
      button(onClick="updatebpm()") TAP
    
    #page1_player.tracker_grid_container

      #previews
                  
        #master_previews  
          canvas#glcanvas          
          
        #channel_previews
          - for(var j=1; j <= 8; j++)
            canvas.small(id="monitoring_canvas_"+j) 
        
      #instruments.scrollable
        table
                        
      #tracker 
      
        table.header
          tr
            th 
            th 
              input#channel1_mute(type="checkbox")
              | channel 1
            th 
              input#channel2_mute(type="checkbox")
              | channel 2

            th 
              input#channel3_mute(type="checkbox")
              | channel 3
            
            th 
              input#channel4_mute(type="checkbox")
              | channel 4

            th 
              input#channel5_mute(type="checkbox")
              | channel 5

            th 
              input#channel6_mute(type="checkbox")
              | channel 6

            th 
              input#channel7_mute(type="checkbox")
              | channel 7

            th 
              input#channel8_mute(type="checkbox")
              | channel 8


        #main_table
          #highlight
          table          
            - for(var row=0; row < 64; row++)
              - var klass = (row%4 == 0 ? 'highlight_beat' : '')
                tr(class=klass)
                  td.mono.trnum= row
                  - for(var col=0; col < 8; col++)
                    td.mono.cell(data-row=row, data-col=col, data-rowcol=row+","+col)
                      .trigger_cell
                        span.index
                        span.opacity
                        span.cue
                        span.effect
                        span.effect_extra

    #page2_instrument.instrument_grid_container
      #effects1
        active effects?
      #effects2
        active effects?
        
      #notes
        cue points, through notes 
        
    // add remote javascript
    script(src='/javascripts/remotes/videotracker_remote.js')
    include ../partials/analytics
